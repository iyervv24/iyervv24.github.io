<section id="contact" class="section contact-extended">
  <div class="container">
    <div style="max-width:960px;margin:0 auto;display:grid;grid-template-columns:1fr 320px;gap:24px;align-items:start;">
      <!-- Form -->
      <form class="card" style="padding:18px;border-radius:12px;" id="contactForm" action="https://formspree.io/f/YOUR_FORMSPREE_ENDPOINT" method="POST">
        <h2>Work with me</h2>
        <p class="muted">Selective advisory, transformation sprints, and speaking. Include timeline & budget for faster alignment.</p>

        <label style="display:block;margin-top:12px;">
          <span style="display:block;font-weight:600;margin-bottom:6px;">Name</span>
          <input type="text" name="name" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef" />
        </label>

        <label style="display:block;margin-top:12px;">
          <span style="display:block;font-weight:600;margin-bottom:6px;">Email</span>
          <input type="email" name="email" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef" />
        </label>

        <label style="display:block;margin-top:12px;">
          <span style="display:block;font-weight:600;margin-bottom:6px;">Brief (what problem? timeline? budget?)</span>
          <textarea name="message" rows="6" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef"></textarea>
        </label>

        <button type="submit" class="cta-primary" style="margin-top:12px;background:#0b63ff;color:#fff;padding:12px 16px;border-radius:8px;border:0;font-weight:700;">Send</button>

        <p class="muted small" style="margin-top:12px;">Or email directly: <a href="mailto:iyervv24@gmail.com">iyervv24@gmail.com</a></p>
      </form>

      <!-- Sidebar -->
      <aside class="card" style="padding:18px;border-radius:12px;height:fit-content;">
        <h3>Availability & approach</h3>
        <p>I take a small number of selective advisory and sprint engagements. Typical format: 4–12 week sprint, measurable KPIs, executive checkpoints.</p>

        <h4 style="margin-top:14px;">What I need in your first message</h4>
        <ul>
          <li>Brief problem statement</li>
          <li>Timeline (weeks/months)</li>
          <li>Budget range (ballpark)</li>
        </ul>

        <h4 style="margin-top:14px;">Other ways</h4>
        <p><a class="btn-cv" href="assets/VVI-CV.pdf" download style="background:#f7b500;padding:10px 12px;border-radius:8px;text-decoration:none;color:#000;font-weight:700;">Download CV</a></p>
      </aside>
    </div>
  </div>
</section>

<!-- Small JS snippet to show basic success message without leaving page -->
<script>
  (function(){
    const form = document.getElementById('contactForm');
    if (!form) return;
    form.addEventListener('submit', async function (e) {
      e.preventDefault();
      const btn = form.querySelector('button[type="submit"]');
      btn.disabled = true;
      btn.textContent = 'Sending…';
      try {
        const resp = await fetch(form.action, { method:'POST', body: new FormData(form), headers: { 'Accept':'application/json' }});
        if (resp.ok) {
          form.innerHTML = '<p class="lead">Thanks — I received your message and will reply soon.</p>';
        } else {
          btn.disabled = false;
          btn.textContent = 'Send';
          alert('Submission failed. Please try the email link instead.');
        }
      } catch (err) {
        btn.disabled = false;
        btn.textContent = 'Send';
        alert('Network error — try emailing directly.');
      }
    });
  })();
</script>
